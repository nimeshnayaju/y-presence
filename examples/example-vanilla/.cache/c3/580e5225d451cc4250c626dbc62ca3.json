{"id":"../../node_modules/@y-presence/client/dist/esm/index.js","dependencies":[{"name":"/Users/nimeshnayaju/Desktop/y-presence/node_modules/@y-presence/client/dist/esm/index.js.map","includedInParent":true,"mtime":1653673697036},{"name":"/Users/nimeshnayaju/Desktop/y-presence/examples/example-vanilla/package.json","includedInParent":true,"mtime":1653664633087},{"name":"/Users/nimeshnayaju/Desktop/y-presence/node_modules/@y-presence/client/package.json","includedInParent":true,"mtime":1653664633090}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Room = void 0;\nvar a = class {\n  constructor(e, s) {\n    this.listeners = {\n      others: [],\n      users: [],\n      self: []\n    };\n    this.awareness = e, this.setPresence(s), this.awareness.on(\"change\", (r, n) => {\n      let i = this.getUsers();\n\n      if (this.listeners.users.forEach(t => {\n        t(i);\n      }), n === \"local\") {\n        let t = this.getSelf();\n        this.listeners.self.forEach(c => {\n          c(t);\n        });\n        return;\n      }\n\n      let l = this.getOthers();\n      this.listeners.others.forEach(t => {\n        t(l);\n      });\n    });\n  }\n\n  updatePresence(e) {\n    for (let s in e) this.awareness.setLocalStateField(s, e[s]);\n  }\n\n  setPresence(e) {\n    this.awareness.setLocalState(e);\n  }\n\n  getSelf() {\n    return {\n      id: this.awareness.clientID,\n      presence: this.awareness.getLocalState()\n    };\n  }\n\n  getOthers() {\n    let e = [];\n    return this.awareness.getStates().forEach((s, r) => {\n      r !== this.awareness.clientID && e.push({\n        id: r,\n        presence: s\n      });\n    }), e;\n  }\n\n  getUsers() {\n    let e = [];\n    return this.awareness.getStates().forEach((s, r) => {\n      e.push({\n        id: r,\n        presence: s\n      });\n    }), e;\n  }\n\n  subscribe(e, s) {\n    return e === \"users\" || e === \"others\" ? (this.listeners[e].push(s), () => this.unsubscribe(e, s)) : (this.listeners[e].push(s), () => this.unsubscribe(e, s));\n  }\n\n  unsubscribe(e, s) {\n    for (let r = 0; r < this.listeners[e].length; r++) s === this.listeners[e][r] && this.listeners[e].splice(r, 1);\n  }\n\n  destroy() {\n    this.awareness.setLocalState(null), this.awareness.destroy();\n  }\n\n};\nexports.Room = a;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/room.ts","name":null,"original":{"line":22,"column":7},"generated":{"line":7,"column":0}},{"source":"../../src/room.ts","name":null,"original":{"line":22,"column":7},"generated":{"line":7,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":22,"column":7},"generated":{"line":7,"column":5}},{"source":"../../src/room.ts","name":null,"original":{"line":22,"column":7},"generated":{"line":7,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":22,"column":49},"generated":{"line":7,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":8,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":8,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":36,"column":14},"generated":{"line":8,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":8,"column":15}},{"source":"../../src/room.ts","name":null,"original":{"line":36,"column":36},"generated":{"line":8,"column":17}},{"source":"../../src/room.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":8,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":36,"column":56},"generated":{"line":8,"column":20}},{"source":"../../src/room.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":9,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":9,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":9,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":25,"column":39},"generated":{"line":9,"column":21}},{"source":"../../src/room.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":10,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":10,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":26,"column":12},"generated":{"line":10,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":25,"column":39},"generated":{"line":10,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":11,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":11,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":27,"column":11},"generated":{"line":11,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":25,"column":39},"generated":{"line":11,"column":15}},{"source":"../../src/room.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":12,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":12,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":28,"column":10},"generated":{"line":12,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":25,"column":39},"generated":{"line":13,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":25,"column":10},"generated":{"line":13,"column":5}},{"source":"../../src/room.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":14,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":14,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":14,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":37,"column":21},"generated":{"line":14,"column":21}},{"source":"../../src/room.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":14,"column":22}},{"source":"../../src/room.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":14,"column":24}},{"source":"../../src/room.ts","name":null,"original":{"line":39,"column":9},"generated":{"line":14,"column":29}},{"source":"../../src/room.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":14,"column":40}},{"source":"../../src/room.ts","name":null,"original":{"line":39,"column":21},"generated":{"line":14,"column":41}},{"source":"../../src/room.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":14,"column":42}},{"source":"../../src/room.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":14,"column":43}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":14,"column":45}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":14,"column":50}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":14,"column":59}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":19},"generated":{"line":14,"column":60}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":14,"column":62}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":22},"generated":{"line":14,"column":63}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":14,"column":71}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":32},"generated":{"line":14,"column":73}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":33},"generated":{"line":14,"column":74}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":32},"generated":{"line":14,"column":75}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":41},"generated":{"line":14,"column":77}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":32},"generated":{"line":14,"column":78}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":57},"generated":{"line":14,"column":83}},{"source":"../../src/room.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":15,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":15,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":15,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":42,"column":20},"generated":{"line":15,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":42,"column":25},"generated":{"line":15,"column":19}},{"source":"../../src/room.ts","name":null,"original":{"line":42,"column":20},"generated":{"line":15,"column":27}},{"source":"../../src/room.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":15,"column":29}},{"source":"../../src/room.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":17,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":17,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":11},"generated":{"line":17,"column":15}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":17,"column":24}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":21},"generated":{"line":17,"column":25}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":17,"column":30}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":27},"generated":{"line":17,"column":31}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":17,"column":38}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":35},"generated":{"line":17,"column":39}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":35},"generated":{"line":17,"column":40}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":49},"generated":{"line":17,"column":44}},{"source":"../../src/room.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":18,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":18,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":44,"column":17},"generated":{"line":18,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":18,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":18,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":45,"column":7},"generated":{"line":19,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":19,"column":7}},{"source":"../../src/room.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":19,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":48,"column":11},"generated":{"line":19,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":48,"column":33},"generated":{"line":19,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":48,"column":6},"generated":{"line":19,"column":23}},{"source":"../../src/room.ts","name":null,"original":{"line":48,"column":42},"generated":{"line":19,"column":25}},{"source":"../../src/room.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":20,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":20,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":20,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":49,"column":21},"generated":{"line":20,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":49,"column":26},"generated":{"line":20,"column":21}},{"source":"../../src/room.ts","name":null,"original":{"line":49,"column":21},"generated":{"line":20,"column":28}},{"source":"../../src/room.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":20,"column":30}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":21,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":21,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":21,"column":22}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":21,"column":23}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":21,"column":27}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":28},"generated":{"line":21,"column":28}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":21,"column":35}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":21,"column":36}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":21,"column":37}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":50},"generated":{"line":21,"column":41}},{"source":"../../src/room.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":22,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":22,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":51,"column":19},"generated":{"line":22,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":22,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":22,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":52,"column":9},"generated":{"line":23,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":23,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":24,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":25,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":27,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":27,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":27,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":27,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":56,"column":26},"generated":{"line":27,"column":19}},{"source":"../../src/room.ts","name":null,"original":{"line":56,"column":21},"generated":{"line":27,"column":28}},{"source":"../../src/room.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":27,"column":30}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":6},"generated":{"line":28,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":11},"generated":{"line":28,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":6},"generated":{"line":28,"column":20}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":21},"generated":{"line":28,"column":21}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":6},"generated":{"line":28,"column":27}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":28},"generated":{"line":28,"column":28}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":6},"generated":{"line":28,"column":35}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":36},"generated":{"line":28,"column":36}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":36},"generated":{"line":28,"column":37}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":50},"generated":{"line":28,"column":41}},{"source":"../../src/room.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":29,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":29,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":58,"column":17},"generated":{"line":29,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":29,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":29,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":59,"column":7},"generated":{"line":30,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":57,"column":6},"generated":{"line":30,"column":7}},{"source":"../../src/room.ts","name":null,"original":{"line":60,"column":5},"generated":{"line":31,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":41,"column":4},"generated":{"line":31,"column":5}},{"source":"../../src/room.ts","name":null,"original":{"line":37,"column":4},"generated":{"line":31,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":32,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":34,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":34,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":67,"column":17},"generated":{"line":34,"column":17}},{"source":"../../src/room.ts","name":null,"original":{"line":67,"column":2},"generated":{"line":34,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":67,"column":44},"generated":{"line":34,"column":20}},{"source":"../../src/room.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":35,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":35,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":68,"column":15},"generated":{"line":35,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":35,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":68,"column":27},"generated":{"line":35,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":35,"column":19}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":35,"column":21}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":35,"column":26}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":35,"column":35}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":21},"generated":{"line":35,"column":36}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":35,"column":54}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":40},"generated":{"line":35,"column":55}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":35,"column":56}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":50},"generated":{"line":35,"column":58}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":50},"generated":{"line":35,"column":59}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":58},"generated":{"line":35,"column":60}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":50},"generated":{"line":35,"column":61}},{"source":"../../src/room.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":35,"column":62}},{"source":"../../src/room.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":36,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":38,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":38,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":77,"column":14},"generated":{"line":38,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":77,"column":2},"generated":{"line":38,"column":15}},{"source":"../../src/room.ts","name":null,"original":{"line":77,"column":33},"generated":{"line":38,"column":17}},{"source":"../../src/room.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":39,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":78,"column":9},"generated":{"line":39,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":39,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":78,"column":19},"generated":{"line":39,"column":19}},{"source":"../../src/room.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":39,"column":32}},{"source":"../../src/room.ts","name":null,"original":{"line":78,"column":33},"generated":{"line":39,"column":33}},{"source":"../../src/room.ts","name":null,"original":{"line":78,"column":4},"generated":{"line":39,"column":34}},{"source":"../../src/room.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":40,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":42,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":85,"column":2},"generated":{"line":42,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":85,"column":21},"generated":{"line":42,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":43,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":43,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":44,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":87,"column":6},"generated":{"line":44,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":44,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":87,"column":15},"generated":{"line":44,"column":15}},{"source":"../../src/room.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":44,"column":24}},{"source":"../../src/room.ts","name":null,"original":{"line":87,"column":25},"generated":{"line":44,"column":25}},{"source":"../../src/room.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":44,"column":33}},{"source":"../../src/room.ts","name":null,"original":{"line":88,"column":6},"generated":{"line":45,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":88,"column":6},"generated":{"line":45,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":88,"column":16},"generated":{"line":45,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":88,"column":21},"generated":{"line":45,"column":21}},{"source":"../../src/room.ts","name":null,"original":{"line":88,"column":16},"generated":{"line":45,"column":30}},{"source":"../../src/room.ts","name":null,"original":{"line":88,"column":31},"generated":{"line":45,"column":31}},{"source":"../../src/room.ts","name":null,"original":{"line":88,"column":16},"generated":{"line":45,"column":44}},{"source":"../../src/room.ts","name":null,"original":{"line":86,"column":11},"generated":{"line":46,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":86,"column":4},"generated":{"line":46,"column":5}},{"source":"../../src/room.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":47,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":49,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":49,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":96,"column":25},"generated":{"line":49,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":50,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":97,"column":10},"generated":{"line":50,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":97,"column":10},"generated":{"line":50,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":97,"column":29},"generated":{"line":50,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":50,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":51,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":51,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":9},"generated":{"line":51,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":51,"column":25}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":19},"generated":{"line":51,"column":26}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":51,"column":35}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":31},"generated":{"line":51,"column":38}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":51,"column":45}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":39},"generated":{"line":51,"column":46}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":40},"generated":{"line":51,"column":47}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":39},"generated":{"line":51,"column":48}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":50},"generated":{"line":51,"column":50}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":39},"generated":{"line":51,"column":51}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":57},"generated":{"line":51,"column":56}},{"source":"../../src/room.ts","name":null,"original":{"line":100,"column":6},"generated":{"line":52,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":100,"column":6},"generated":{"line":52,"column":7}},{"source":"../../src/room.ts","name":null,"original":{"line":100,"column":17},"generated":{"line":52,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":100,"column":22},"generated":{"line":52,"column":17}},{"source":"../../src/room.ts","name":null,"original":{"line":100,"column":17},"generated":{"line":52,"column":26}},{"source":"../../src/room.ts","name":null,"original":{"line":100,"column":32},"generated":{"line":52,"column":27}},{"source":"../../src/room.ts","name":null,"original":{"line":100,"column":6},"generated":{"line":52,"column":35}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":52,"column":39}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":52,"column":40}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":14},"generated":{"line":52,"column":41}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":52,"column":45}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":19},"generated":{"line":52,"column":46}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":21},"generated":{"line":53,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":21},"generated":{"line":53,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":25},"generated":{"line":53,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":19},"generated":{"line":53,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":29},"generated":{"line":54,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":29},"generated":{"line":54,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":39},"generated":{"line":54,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":19},"generated":{"line":55,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":55,"column":7}},{"source":"../../src/room.ts","name":null,"original":{"line":100,"column":6},"generated":{"line":55,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":103,"column":5},"generated":{"line":56,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":56,"column":5}},{"source":"../../src/room.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":56,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":99,"column":4},"generated":{"line":56,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":112,"column":2},"generated":{"line":57,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":112,"column":2},"generated":{"line":59,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":112,"column":2},"generated":{"line":59,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":112,"column":24},"generated":{"line":59,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":60,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":113,"column":10},"generated":{"line":60,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":113,"column":10},"generated":{"line":60,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":113,"column":29},"generated":{"line":60,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":60,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":61,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":61,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":9},"generated":{"line":61,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":61,"column":25}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":19},"generated":{"line":61,"column":26}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":61,"column":35}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":31},"generated":{"line":61,"column":38}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":61,"column":45}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":39},"generated":{"line":61,"column":46}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":40},"generated":{"line":61,"column":47}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":39},"generated":{"line":61,"column":48}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":50},"generated":{"line":61,"column":50}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":39},"generated":{"line":61,"column":51}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":57},"generated":{"line":61,"column":56}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":6},"generated":{"line":62,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":6},"generated":{"line":62,"column":7}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":12},"generated":{"line":62,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":6},"generated":{"line":62,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":17},"generated":{"line":62,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":19},"generated":{"line":63,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":19},"generated":{"line":63,"column":10}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":23},"generated":{"line":63,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":17},"generated":{"line":63,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":27},"generated":{"line":64,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":27},"generated":{"line":64,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":37},"generated":{"line":64,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":17},"generated":{"line":65,"column":6}},{"source":"../../src/room.ts","name":null,"original":{"line":116,"column":6},"generated":{"line":65,"column":7}},{"source":"../../src/room.ts","name":null,"original":{"line":117,"column":5},"generated":{"line":66,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":66,"column":5}},{"source":"../../src/room.ts","name":null,"original":{"line":119,"column":11},"generated":{"line":66,"column":8}},{"source":"../../src/room.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":66,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":141,"column":2},"generated":{"line":67,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":141,"column":2},"generated":{"line":69,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":141,"column":2},"generated":{"line":69,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":142,"column":4},"generated":{"line":69,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":141,"column":2},"generated":{"line":69,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":143,"column":4},"generated":{"line":69,"column":15}},{"source":"../../src/room.ts","name":null,"original":{"line":141,"column":2},"generated":{"line":69,"column":16}},{"source":"../../src/room.ts","name":null,"original":{"line":144,"column":16},"generated":{"line":69,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":70,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":8},"generated":{"line":70,"column":11}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":8},"generated":{"line":70,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":18},"generated":{"line":70,"column":17}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":8},"generated":{"line":70,"column":24}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":29},"generated":{"line":70,"column":28}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":29},"generated":{"line":70,"column":29}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":39},"generated":{"line":70,"column":34}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":8},"generated":{"line":70,"column":42}},{"source":"../../src/room.ts","name":null,"original":{"line":146,"column":6},"generated":{"line":70,"column":46}},{"source":"../../src/room.ts","name":null,"original":{"line":146,"column":11},"generated":{"line":70,"column":51}},{"source":"../../src/room.ts","name":null,"original":{"line":146,"column":6},"generated":{"line":70,"column":60}},{"source":"../../src/room.ts","name":null,"original":{"line":146,"column":21},"generated":{"line":70,"column":61}},{"source":"../../src/room.ts","name":null,"original":{"line":146,"column":6},"generated":{"line":70,"column":62}},{"source":"../../src/room.ts","name":null,"original":{"line":146,"column":28},"generated":{"line":70,"column":64}},{"source":"../../src/room.ts","name":null,"original":{"line":146,"column":6},"generated":{"line":70,"column":68}},{"source":"../../src/room.ts","name":null,"original":{"line":146,"column":33},"generated":{"line":70,"column":69}},{"source":"../../src/room.ts","name":null,"original":{"line":146,"column":6},"generated":{"line":70,"column":70}},{"source":"../../src/room.ts","name":null,"original":{"line":147,"column":13},"generated":{"line":70,"column":73}},{"source":"../../src/room.ts","name":null,"original":{"line":147,"column":19},"generated":{"line":70,"column":79}},{"source":"../../src/room.ts","name":null,"original":{"line":147,"column":24},"generated":{"line":70,"column":84}},{"source":"../../src/room.ts","name":null,"original":{"line":147,"column":19},"generated":{"line":70,"column":95}},{"source":"../../src/room.ts","name":null,"original":{"line":147,"column":36},"generated":{"line":70,"column":96}},{"source":"../../src/room.ts","name":null,"original":{"line":147,"column":19},"generated":{"line":70,"column":97}},{"source":"../../src/room.ts","name":null,"original":{"line":147,"column":43},"generated":{"line":70,"column":99}},{"source":"../../src/room.ts","name":null,"original":{"line":147,"column":19},"generated":{"line":70,"column":100}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":8},"generated":{"line":70,"column":101}},{"source":"../../src/room.ts","name":null,"original":{"line":149,"column":6},"generated":{"line":70,"column":106}},{"source":"../../src/room.ts","name":null,"original":{"line":149,"column":11},"generated":{"line":70,"column":111}},{"source":"../../src/room.ts","name":null,"original":{"line":149,"column":6},"generated":{"line":70,"column":120}},{"source":"../../src/room.ts","name":null,"original":{"line":149,"column":21},"generated":{"line":70,"column":121}},{"source":"../../src/room.ts","name":null,"original":{"line":149,"column":6},"generated":{"line":70,"column":122}},{"source":"../../src/room.ts","name":null,"original":{"line":149,"column":28},"generated":{"line":70,"column":124}},{"source":"../../src/room.ts","name":null,"original":{"line":149,"column":6},"generated":{"line":70,"column":128}},{"source":"../../src/room.ts","name":null,"original":{"line":149,"column":33},"generated":{"line":70,"column":129}},{"source":"../../src/room.ts","name":null,"original":{"line":149,"column":6},"generated":{"line":70,"column":130}},{"source":"../../src/room.ts","name":null,"original":{"line":150,"column":13},"generated":{"line":70,"column":133}},{"source":"../../src/room.ts","name":null,"original":{"line":150,"column":19},"generated":{"line":70,"column":139}},{"source":"../../src/room.ts","name":null,"original":{"line":150,"column":24},"generated":{"line":70,"column":144}},{"source":"../../src/room.ts","name":null,"original":{"line":150,"column":19},"generated":{"line":70,"column":155}},{"source":"../../src/room.ts","name":null,"original":{"line":150,"column":36},"generated":{"line":70,"column":156}},{"source":"../../src/room.ts","name":null,"original":{"line":150,"column":19},"generated":{"line":70,"column":157}},{"source":"../../src/room.ts","name":null,"original":{"line":150,"column":43},"generated":{"line":70,"column":159}},{"source":"../../src/room.ts","name":null,"original":{"line":150,"column":19},"generated":{"line":70,"column":160}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":8},"generated":{"line":70,"column":161}},{"source":"../../src/room.ts","name":null,"original":{"line":145,"column":4},"generated":{"line":70,"column":162}},{"source":"../../src/room.ts","name":null,"original":{"line":168,"column":2},"generated":{"line":71,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":168,"column":2},"generated":{"line":73,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":168,"column":2},"generated":{"line":73,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":169,"column":4},"generated":{"line":73,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":168,"column":2},"generated":{"line":73,"column":15}},{"source":"../../src/room.ts","name":null,"original":{"line":170,"column":4},"generated":{"line":73,"column":17}},{"source":"../../src/room.ts","name":null,"original":{"line":168,"column":2},"generated":{"line":73,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":171,"column":4},"generated":{"line":73,"column":20}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":4},"generated":{"line":74,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":4},"generated":{"line":74,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":13},"generated":{"line":74,"column":13}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":13},"generated":{"line":74,"column":14}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":17},"generated":{"line":74,"column":17}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":4},"generated":{"line":74,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":20},"generated":{"line":74,"column":20}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":20},"generated":{"line":74,"column":21}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":24},"generated":{"line":74,"column":24}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":29},"generated":{"line":74,"column":29}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":24},"generated":{"line":74,"column":38}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":39},"generated":{"line":74,"column":39}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":24},"generated":{"line":74,"column":40}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":46},"generated":{"line":74,"column":42}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":4},"generated":{"line":74,"column":48}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":54},"generated":{"line":74,"column":50}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":54},"generated":{"line":74,"column":51}},{"source":"../../src/room.ts","name":null,"original":{"line":172,"column":4},"generated":{"line":74,"column":53}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":6},"generated":{"line":74,"column":55}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":6},"generated":{"line":74,"column":56}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":23},"generated":{"line":74,"column":61}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":28},"generated":{"line":74,"column":66}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":23},"generated":{"line":74,"column":75}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":38},"generated":{"line":74,"column":76}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":23},"generated":{"line":74,"column":77}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":45},"generated":{"line":74,"column":79}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":23},"generated":{"line":74,"column":80}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":6},"generated":{"line":74,"column":81}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":74,"column":85}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":13},"generated":{"line":74,"column":90}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":74,"column":99}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":23},"generated":{"line":74,"column":100}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":74,"column":101}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":30},"generated":{"line":74,"column":103}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":74,"column":109}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":37},"generated":{"line":74,"column":110}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":74,"column":111}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":40},"generated":{"line":74,"column":113}},{"source":"../../src/room.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":74,"column":114}},{"source":"../../src/room.ts","name":null,"original":{"line":173,"column":6},"generated":{"line":74,"column":115}},{"source":"../../src/room.ts","name":null,"original":{"line":182,"column":2},"generated":{"line":75,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":182,"column":2},"generated":{"line":77,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":182,"column":2},"generated":{"line":77,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":182,"column":12},"generated":{"line":77,"column":12}},{"source":"../../src/room.ts","name":null,"original":{"line":183,"column":4},"generated":{"line":78,"column":4}},{"source":"../../src/room.ts","name":null,"original":{"line":183,"column":9},"generated":{"line":78,"column":9}},{"source":"../../src/room.ts","name":null,"original":{"line":183,"column":4},"generated":{"line":78,"column":18}},{"source":"../../src/room.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":78,"column":19}},{"source":"../../src/room.ts","name":null,"original":{"line":183,"column":4},"generated":{"line":78,"column":32}},{"source":"../../src/room.ts","name":null,"original":{"line":183,"column":33},"generated":{"line":78,"column":33}},{"source":"../../src/room.ts","name":null,"original":{"line":183,"column":4},"generated":{"line":78,"column":37}},{"source":"../../src/room.ts","name":null,"original":{"line":184,"column":4},"generated":{"line":78,"column":40}},{"source":"../../src/room.ts","name":null,"original":{"line":184,"column":9},"generated":{"line":78,"column":45}},{"source":"../../src/room.ts","name":null,"original":{"line":184,"column":4},"generated":{"line":78,"column":54}},{"source":"../../src/room.ts","name":null,"original":{"line":184,"column":19},"generated":{"line":78,"column":55}},{"source":"../../src/room.ts","name":null,"original":{"line":184,"column":4},"generated":{"line":78,"column":62}},{"source":"../../src/room.ts","name":null,"original":{"line":183,"column":4},"generated":{"line":78,"column":64}},{"source":"../../src/room.ts","name":null,"original":{"line":186,"column":0},"generated":{"line":79,"column":2}},{"source":"../../src/room.ts","name":null,"original":{"line":22,"column":49},"generated":{"line":81,"column":0}},{"source":"../../src/room.ts","name":null,"original":{"line":22,"column":7},"generated":{"line":81,"column":1}}],"sources":{"../../src/room.ts":"import type { Awareness, Presence, User } from './types'\n\n/**\n * Wraps the provider's awareness to provide helper methods to listen to changes in self\n * presence, other users' presence and all users' presence.\n *\n * @example\n *\n * interface AppPresence {\n *     name: string;\n * }\n *\n * const initialPresence: AppPresence = { name: \"John Doe\" }\n *\n * const room = new Room<AppPresence>(provider.awareness, initialPresence)\n *\n * // listen to changes in all users' presence\n * room.subscribe('users', (users) => {\n *     // do something\n * })\n */\nexport class Room<T extends Presence = Presence> {\n  readonly awareness: Awareness\n\n  private listeners: RoomListener<T> = {\n    others: [],\n    users: [],\n    self: [],\n  }\n\n  /**\n   * Creates a new instance of a room to manipulate the current user's presence\n   * @param awareness the awareness object associated to WebSocketProvider or WebrtcProvider\n   * @param initialPresence the initial presence object to assign to the current user\n   */\n  constructor(awareness: Awareness, initialPresence: T) {\n    this.awareness = awareness\n\n    this.setPresence(initialPresence)\n\n    this.awareness.on('change', (_: any, origin: any) => {\n      const users = this.getUsers()\n      this.listeners.users.forEach((callback) => {\n        callback(users)\n      })\n\n      // if the transaction originated locally, do not notify listeners to \"others\"\n      if ((origin as string) === 'local') {\n        const self = this.getSelf()\n        this.listeners.self.forEach((callback) => {\n          callback(self)\n        })\n        return\n      }\n\n      const others = this.getOthers()\n      this.listeners.others.forEach((callback) => {\n        callback(others)\n      })\n    })\n  }\n\n  /**\n   * Updates only a subset of the current user's presence object\n   * @param partial a subset of the current user's presence object to update\n   */\n  updatePresence(partial: Partial<T>): void {\n    for (const property in partial) {\n      this.awareness.setLocalStateField(property, partial[property])\n    }\n  }\n\n  /**\n   * Overrides the presence object of the current user (or self)\n   * @param presence the new presence object to set\n   */\n  setPresence(presence: T): void {\n    this.awareness.setLocalState(presence)\n  }\n\n  /**\n   * Returns the current user's id and their presence object\n   * @returns the User object associated to the current user (or self)\n   */\n  getSelf(): User<T> {\n    return {\n      id: this.awareness.clientID,\n      presence: this.awareness.getLocalState() as T,\n    }\n  }\n\n  /**\n   * Method to retrieve all connected users (excluding self) in the room\n   * @returns an array of User object, where each user object is a user connected in the room (excluding self)\n   */\n  getOthers(): User<T>[] {\n    const users: User<T>[] = []\n\n    this.awareness.getStates().forEach((presence, id) => {\n      if (id !== this.awareness.clientID) {\n        users.push({ id: id, presence: presence as T })\n      }\n    })\n\n    return users\n  }\n\n  /**\n   * Method to retrieve all connected users (including self) in the room\n   * @returns an array of User object, where each user object is a user connected in the room (including self)\n   */\n  getUsers(): User<T>[] {\n    const users: User<T>[] = []\n\n    this.awareness.getStates().forEach((presence, id) => {\n      users.push({ id: id, presence: presence as T })\n    })\n\n    return users\n  }\n\n  /**\n   * Listen to changes in all or other users' presence\n   * @param event the event name: \"users\" or \"others\"\n   * @param callback the function to run whenever presence associated to the provided event changes\n   */\n  subscribe(event: 'users' | 'others', callback: UsersEventCallback<T>): () => void\n\n  /**\n   * Listen to changes in self presence\n   * @param event the event name: \"self\"\n   * @param callback the function to run whenever self presence changes\n   */\n  subscribe(event: 'self', callback: UserEventCallback<T>): () => void\n\n  /**\n   * Listen to changes in all or other users' presence\n   * @param event the event name: \"users\" or \"others\"\n   * @param callback the function to run whenever presence associated to the provided event changes\n   */\n  subscribe(\n    event: keyof RoomListener<T>,\n    callback: UsersEventCallback<T> | UserEventCallback<T>\n  ): () => void {\n    if (event === 'users' || event === 'others') {\n      this.listeners[event].push(callback as UsersEventCallback<T>)\n      return () => this.unsubscribe(event, callback as UsersEventCallback<T>)\n    } else {\n      this.listeners[event].push(callback as UserEventCallback<T>)\n      return () => this.unsubscribe(event, callback as UserEventCallback<T>)\n    }\n  }\n\n  /**\n   * Unsubscribe to changes in all or other users' presence\n   * @param event the event name: \"users\" or \"others\"\n   * @param callback the function to unsubscribe\n   */\n  unsubscribe(event: 'users' | 'others', callback: UsersEventCallback<T>): void\n\n  /**\n   * Unsubscribe to changes in self presence\n   * @param event the event name: \"self\"\n   * @param callback the function to unsubscribe\n   */\n  unsubscribe(event: 'self', callback: UserEventCallback<T>): void\n\n  unsubscribe(\n    event: keyof RoomListener<T>,\n    callback: UsersEventCallback<T> | UserEventCallback<T>\n  ) {\n    for (let i = 0; i < this.listeners[event].length; i++) {\n      if (callback === this.listeners[event][i]) {\n        this.listeners[event].splice(i, 1)\n      }\n    }\n  }\n\n  /**\n   * Sets the current user's presence object to null and destroys the awareness object\n   */\n  destroy() {\n    this.awareness.setLocalState(null)\n    this.awareness.destroy()\n  }\n}\n\ntype UsersEventCallback<T> = (users: User<T>[]) => void\ntype UserEventCallback<T> = (user: User<T>) => void\n\ninterface RoomListener<T> {\n  users: UsersEventCallback<T>[]\n  others: UsersEventCallback<T>[]\n  self: UserEventCallback<T>[]\n}\n"},"lineCount":null}},"error":null,"hash":"382191237e7e0e02cf1dfc8c6d846eba","cacheData":{"env":{}}}